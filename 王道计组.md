# 王道计组笔记

## 计算机系统概述

- 计算机系统=硬件+软件(系统软件+应用软件)
- 电子管-晶体管-集成电路(硬件的发展)
- 机器字长：计算机一次整数运算所能处理的二进制位数
- 机器语言-汇编语言-编程语言(应用软件)
- 操作系统(系统软件)
  
- **计算机硬件的基本组成**：
  - 早期冯诺依曼机的结构
    - 在计算机系统中，软件和硬件在逻辑上是等效的
    - 特点：
      - 计算机由五大部件组成(输入设备、运算器、存储器、输出设备、控制器)
      - 指令和数据以同等地位存于存储器，可按地址寻访
      - 指令和数据用二进制表示
      - 指令由操作码(加减乘除之类)和地址码(操作数在什么位置)组成
      - 存储程序：将指令以二进制代码形式事先输入主存，然后计算机按顺序执行
      - 以运算器为中心(作为中转，会导致效率降低)
  - 现代计算机的结构
    - 以存储器为中心
    - 通常将运算器和控制器集成起来，就是CPU(CPU=运算器+控制器)
    - 主机=CPU+主存储器(辅存看作IO设备)
    - 硬件=主机+IO设备
   
- **各个硬件的工作原理**：
  - 主存储器：
    - 存储体+MAR(地址寄存器)+MDR(数据寄存器)
    - 存储单元：每个存储单元存放一串二进制代码
    - 存储字(word)：存储单元中二进制代码的组合(不同于字节byte)
    - 存储字长：存储单元中二进制代码的位数
    - 存储元：即存储二进制的电子元件，每个存储元可存1bit
  - 运算器：
    - ACC：累加计数器
    - MQ：乘商寄存器
    - X：通用寄存器，存放操作数
    - ALU：算数逻辑单元
  - 控制器：
    - CU：控制单元，分析指令，给出控制信号
    - IR：指令寄存器，存放当前执行的指令
    - PC：程序计数器，存放下一条指令地址，有自动加1功能
    - 完成指令流程：从PC取指令，放入IR分析指令，让CU执行指令

- **计算机系统的层次结构**：
  - 高级语言(用编译程序翻译为)-汇编语言(本质上助记符，与机器语言一一对应，用汇编程序翻译为)-操作系统(广义指令，系统调用)-机器语言-微指令
  - 编译程序：高级语言->机器语言(翻译一次)
  - 解释程序：高级语言->机器语言(每次执行都要翻译，翻译完立即执行)
 
- **计算机的性能指标**：
  - 存储器的性能指标：
    - 最大总容量：2的(MAR位数)次方*(MDR位数bit)
      - KB：1024B(2e10)；M：2e20;G：2e30；T：2e40
  - CPU的性能指标：
    - CPU主频：CPU内数字脉冲信号振荡的频率(每秒出现多少条指令)
    - CPU时钟周期(与主频成反比)
    - CPI：执行一条指令所需的时钟周期数
      - 执行一条指令的耗时：CPI*CPU时钟周期
    - IPS：每秒执行多少条指令(IPS=主频/平均CPI)
    - FLOPS：每秒执行多少次浮点运算
      - K：1e3；M：1e6;G：1e9；T：1e12(前缀数量单位)
  - 系统整体的性能指标：
    - 数据通路带宽：数据总线一次所能并行传送信息的位数(各硬件部件通过数据总线传输数据)
    - 吞吐量：指系统在单位时间内处理请求的数量
    - 响应时间：指系统相应用户请求并获得所需结果的等待时间
    - 动态测试：基准程序(跑分软件)

---

## 数据的表示和运算

- **进位计数制**：
  - 基数与位权->r进制
  - 2<->8/16:
    - 每3/4组转
    - 每位数转3/4个0/1
  - 2B-8O-10D-16H/0x
  - 10->任意r进制
    - 不停除r取余数，从下到上取(整数部分)
    - 乘r取整数位，从上往下取(小数部分)
  - 真值和机器数
   
- **BCD码**：每4个二进制位对应一个十进制字符
  - 8421码：若超出映射表+0110(6,进行修正)
    - 余3码(无权码)：8421+(0011)
  - 2421码：5后首位为1

- **无符号整数的表示和运算**：unsigned
  - 表示：没有符号位，nbit范围0~2^n
  - 运算：(减法)减数全部位按位取反，末位+1，然后两数相加

- **有符号整数的表示和运算**：
  - 表示：原-反-补(操作互逆)
    - 原码：有符号为(0正1负),剩余位表示真值的绝对值，真值0有两种形式(符号位不能参与运算)；补码从左往右找到第一个1，这个1左边的所有数值位按位取反(相当于数值位取反+1操作)
    - 反码：正数不变/负数符号位不变，数值位按位取反
    - 补码：正数不变/负数反码末位+1(补码数值位不能解读为位权，补码符号位可参与运算)
  - 运算：(减法)减数全部位按位取反，末位+1，然后两数相加(和原补转换不同，多转一个符号位)









